{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import{Container,Row,Col,Card,Alert,Form,InputGroup,Button,Spinner}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSearch,faFilter,faTimes}from'@fortawesome/free-solid-svg-icons';import ChannelList from'../components/ChannelList';import{ChannelContext}from'../context/ChannelContext';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{const{searchChannels,channels,loading,error}=useContext(ChannelContext);const{user}=useContext(AuthContext);const[searched,setSearched]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[showFilters,setShowFilters]=useState(false);const[filterProvider,setFilterProvider]=useState('');const[filterFormat,setFilterFormat]=useState('');const[filterStatus,setFilterStatus]=useState('');const[filteredChannels,setFilteredChannels]=useState([]);const[uniqueProviders,setUniqueProviders]=useState([]);const[recentSearches,setRecentSearches]=useState([]);// Load recent searches from localStorage\nuseEffect(()=>{const savedSearches=localStorage.getItem('recentSearches');if(savedSearches){try{setRecentSearches(JSON.parse(savedSearches));}catch(e){console.error('Error parsing recent searches:',e);}}},[]);// Update filtered channels when filters or channels change\nuseEffect(()=>{if(channels.length>0){// Extract unique providers for filter dropdown\nconst providers=[...new Set(channels.map(channel=>channel.provider))];setUniqueProviders(providers);// Apply filters\nlet filtered=[...channels];if(filterProvider){filtered=filtered.filter(channel=>channel.provider===filterProvider);}if(filterFormat){filtered=filtered.filter(channel=>channel.format===filterFormat.toLowerCase());}if(filterStatus){const isLive=filterStatus==='live';filtered=filtered.filter(channel=>channel.isLive===isLive);}setFilteredChannels(filtered);}else{setFilteredChannels([]);}},[channels,filterProvider,filterFormat,filterStatus]);const handleSearch=async query=>{if(!query||query.trim()===''){return;}setSearchQuery(query);// Save to recent searches\nconst updatedSearches=[query,...recentSearches.filter(s=>s!==query)].slice(0,5);setRecentSearches(updatedSearches);localStorage.setItem('recentSearches',JSON.stringify(updatedSearches));try{await searchChannels({query:query});setSearched(true);}catch(error){console.error('Search error:',error);}};const handleRecentSearchClick=query=>{handleSearch(query);};const clearFilters=()=>{setFilterProvider('');setFilterFormat('');setFilterStatus('');};const displayedChannels=filteredChannels.length>0?filteredChannels:channels;return/*#__PURE__*/_jsxs(Container,{className:\"py-3\",children:[/*#__PURE__*/_jsx(Row,{className:\"justify-content-center mb-4\",children:/*#__PURE__*/_jsx(Col,{md:10,lg:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{className:\"text-center mb-4\",children:\"Search for TV Channels\"}),/*#__PURE__*/_jsx(Form,{onSubmit:e=>{e.preventDefault();handleSearch(searchQuery);},children:/*#__PURE__*/_jsxs(InputGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Search for channels...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",type:\"submit\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch}),\" Search\"]})]})}),recentSearches.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Recent searches: \"}),recentSearches.map((search,index)=>/*#__PURE__*/_jsx(Button,{variant:\"link\",size:\"sm\",className:\"p-0 ms-2\",onClick:()=>handleRecentSearchClick(search),children:search},index))]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end mt-3\",children:/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",size:\"sm\",onClick:()=>setShowFilters(!showFilters),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFilter}),\" \",showFilters?'Hide Filters':'Show Filters']})}),showFilters&&/*#__PURE__*/_jsx(Card,{className:\"mt-3 bg-light\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Provider\"}),/*#__PURE__*/_jsxs(Form.Select,{value:filterProvider,onChange:e=>setFilterProvider(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Providers\"}),uniqueProviders.map((provider,index)=>/*#__PURE__*/_jsx(\"option\",{value:provider,children:provider},index))]})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Format\"}),/*#__PURE__*/_jsxs(Form.Select,{value:filterFormat,onChange:e=>setFilterFormat(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Formats\"}),/*#__PURE__*/_jsx(\"option\",{value:\"M3U\",children:\"M3U\"}),/*#__PURE__*/_jsx(\"option\",{value:\"M3U8\",children:\"M3U8\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MP4\",children:\"MP4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HLS\",children:\"HLS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"OTHER\",children:\"Other\"})]})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Status\"}),/*#__PURE__*/_jsxs(Form.Select,{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"live\",children:\"Live\"}),/*#__PURE__*/_jsx(\"option\",{value:\"down\",children:\"Down\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end\",children:/*#__PURE__*/_jsxs(Button,{variant:\"outline-danger\",size:\"sm\",onClick:clearFilters,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes}),\" Clear Filters\"]})})]})})]})})})}),loading&&/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Searching for channels...\"})]})})}),error&&/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error})})}),searched&&!loading&&!error&&/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Search Results for \\\"\",searchQuery,\"\\\"\",filterProvider||filterFormat||filterStatus?/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 text-muted fs-6\",children:\"(Filtered)\"}):null]}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-primary\",children:[displayedChannels.length,\" \",displayedChannels.length===1?'channel':'channels',\" found\"]})]}),displayedChannels.length===0?/*#__PURE__*/_jsx(Alert,{variant:\"info\",children:\"No channels found matching your criteria. Try a different search or adjust your filters.\"}):/*#__PURE__*/_jsx(ChannelList,{channels:displayedChannels,showActions:!!user}),!user&&displayedChannels.length>0&&/*#__PURE__*/_jsxs(Alert,{variant:\"info\",className:\"mt-3\",children:[/*#__PURE__*/_jsx(Alert.Heading,{children:\"Sign in for more features\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Sign in or create an account to access additional features like saving favorites, viewing channel details, and more.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-end\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",href:\"/login\",className:\"me-2\",children:\"Sign In\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",href:\"/register\",children:\"Register\"})]})]})]})})})})]});};export default HomePage;","map":{"version":3,"names":["React","useState","useContext","useEffect","Container","Row","Col","Card","Alert","Form","InputGroup","Button","Spinner","FontAwesomeIcon","faSearch","faFilter","faTimes","ChannelList","ChannelContext","AuthContext","jsx","_jsx","jsxs","_jsxs","HomePage","searchChannels","channels","loading","error","user","searched","setSearched","searchQuery","setSearchQuery","showFilters","setShowFilters","filterProvider","setFilterProvider","filterFormat","setFilterFormat","filterStatus","setFilterStatus","filteredChannels","setFilteredChannels","uniqueProviders","setUniqueProviders","recentSearches","setRecentSearches","savedSearches","localStorage","getItem","JSON","parse","e","console","length","providers","Set","map","channel","provider","filtered","filter","format","toLowerCase","isLive","handleSearch","query","trim","updatedSearches","s","slice","setItem","stringify","handleRecentSearchClick","clearFilters","displayedChannels","className","children","md","lg","Body","Title","onSubmit","preventDefault","Control","type","placeholder","value","onChange","target","variant","icon","search","index","size","onClick","Group","Label","Select","animation","role","showActions","Heading","href"],"sources":["/var/www/iptv-manager/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { Container, Row, Col, Card, Alert, Form, InputGroup, Button, Spinner } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSearch, faFilter, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport ChannelList from '../components/ChannelList';\r\nimport { ChannelContext } from '../context/ChannelContext';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst HomePage = () => {\r\n  const { searchChannels, channels, loading, error } = useContext(ChannelContext);\r\n  const { user } = useContext(AuthContext);\r\n  const [searched, setSearched] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [filterProvider, setFilterProvider] = useState('');\r\n  const [filterFormat, setFilterFormat] = useState('');\r\n  const [filterStatus, setFilterStatus] = useState('');\r\n  const [filteredChannels, setFilteredChannels] = useState([]);\r\n  const [uniqueProviders, setUniqueProviders] = useState([]);\r\n  const [recentSearches, setRecentSearches] = useState([]);\r\n\r\n  // Load recent searches from localStorage\r\n  useEffect(() => {\r\n    const savedSearches = localStorage.getItem('recentSearches');\r\n    if (savedSearches) {\r\n      try {\r\n        setRecentSearches(JSON.parse(savedSearches));\r\n      } catch (e) {\r\n        console.error('Error parsing recent searches:', e);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Update filtered channels when filters or channels change\r\n  useEffect(() => {\r\n    if (channels.length > 0) {\r\n      // Extract unique providers for filter dropdown\r\n      const providers = [...new Set(channels.map(channel => channel.provider))];\r\n      setUniqueProviders(providers);\r\n      \r\n      // Apply filters\r\n      let filtered = [...channels];\r\n      \r\n      if (filterProvider) {\r\n        filtered = filtered.filter(channel => channel.provider === filterProvider);\r\n      }\r\n      \r\n      if (filterFormat) {\r\n        filtered = filtered.filter(channel => channel.format === filterFormat.toLowerCase());\r\n      }\r\n      \r\n      if (filterStatus) {\r\n        const isLive = filterStatus === 'live';\r\n        filtered = filtered.filter(channel => channel.isLive === isLive);\r\n      }\r\n      \r\n      setFilteredChannels(filtered);\r\n    } else {\r\n      setFilteredChannels([]);\r\n    }\r\n  }, [channels, filterProvider, filterFormat, filterStatus]);\r\n\r\n  const handleSearch = async (query) => {\r\n    if (!query || query.trim() === '') {\r\n      return;\r\n    }\r\n    \r\n    setSearchQuery(query);\r\n    \r\n    // Save to recent searches\r\n    const updatedSearches = [query, ...recentSearches.filter(s => s !== query)].slice(0, 5);\r\n    setRecentSearches(updatedSearches);\r\n    localStorage.setItem('recentSearches', JSON.stringify(updatedSearches));\r\n    \r\n    try {\r\n      await searchChannels({ query: query });\r\n      setSearched(true);\r\n    } catch (error) {\r\n      console.error('Search error:', error);\r\n    }\r\n  };\r\n\r\n  const handleRecentSearchClick = (query) => {\r\n    handleSearch(query);\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setFilterProvider('');\r\n    setFilterFormat('');\r\n    setFilterStatus('');\r\n  };\r\n\r\n  const displayedChannels = filteredChannels.length > 0 ? filteredChannels : channels;\r\n\r\n  return (\r\n    <Container className=\"py-3\">\r\n      <Row className=\"justify-content-center mb-4\">\r\n        <Col md={10} lg={8}>\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title className=\"text-center mb-4\">\r\n                Search for TV Channels\r\n              </Card.Title>\r\n              \r\n              <Form onSubmit={(e) => {\r\n                e.preventDefault();\r\n                handleSearch(searchQuery);\r\n              }}>\r\n                <InputGroup className=\"mb-3\">\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Search for channels...\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                  />\r\n                  <Button variant=\"primary\" type=\"submit\">\r\n                    <FontAwesomeIcon icon={faSearch} /> Search\r\n                  </Button>\r\n                </InputGroup>\r\n              </Form>\r\n              \r\n              {recentSearches.length > 0 && (\r\n                <div className=\"mt-2\">\r\n                  <small className=\"text-muted\">Recent searches: </small>\r\n                  {recentSearches.map((search, index) => (\r\n                    <Button \r\n                      key={index} \r\n                      variant=\"link\" \r\n                      size=\"sm\" \r\n                      className=\"p-0 ms-2\"\r\n                      onClick={() => handleRecentSearchClick(search)}\r\n                    >\r\n                      {search}\r\n                    </Button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"d-flex justify-content-end mt-3\">\r\n                <Button \r\n                  variant=\"outline-secondary\" \r\n                  size=\"sm\"\r\n                  onClick={() => setShowFilters(!showFilters)}\r\n                >\r\n                  <FontAwesomeIcon icon={faFilter} /> {showFilters ? 'Hide Filters' : 'Show Filters'}\r\n                </Button>\r\n              </div>\r\n              \r\n              {showFilters && (\r\n                <Card className=\"mt-3 bg-light\">\r\n                  <Card.Body>\r\n                    <Row>\r\n                      <Col md={4}>\r\n                        <Form.Group className=\"mb-3\">\r\n                          <Form.Label>Provider</Form.Label>\r\n                          <Form.Select\r\n                            value={filterProvider}\r\n                            onChange={(e) => setFilterProvider(e.target.value)}\r\n                          >\r\n                            <option value=\"\">All Providers</option>\r\n                            {uniqueProviders.map((provider, index) => (\r\n                              <option key={index} value={provider}>{provider}</option>\r\n                            ))}\r\n                          </Form.Select>\r\n                        </Form.Group>\r\n                      </Col>\r\n                      <Col md={4}>\r\n                        <Form.Group className=\"mb-3\">\r\n                          <Form.Label>Format</Form.Label>\r\n                          <Form.Select\r\n                            value={filterFormat}\r\n                            onChange={(e) => setFilterFormat(e.target.value)}\r\n                          >\r\n                            <option value=\"\">All Formats</option>\r\n                            <option value=\"M3U\">M3U</option>\r\n                            <option value=\"M3U8\">M3U8</option>\r\n                            <option value=\"MP4\">MP4</option>\r\n                            <option value=\"HLS\">HLS</option>\r\n                            <option value=\"OTHER\">Other</option>\r\n                          </Form.Select>\r\n                        </Form.Group>\r\n                      </Col>\r\n                      <Col md={4}>\r\n                        <Form.Group className=\"mb-3\">\r\n                          <Form.Label>Status</Form.Label>\r\n                          <Form.Select\r\n                            value={filterStatus}\r\n                            onChange={(e) => setFilterStatus(e.target.value)}\r\n                          >\r\n                            <option value=\"\">All Statuses</option>\r\n                            <option value=\"live\">Live</option>\r\n                            <option value=\"down\">Down</option>\r\n                          </Form.Select>\r\n                        </Form.Group>\r\n                      </Col>\r\n                    </Row>\r\n                    <div className=\"d-flex justify-content-end\">\r\n                      <Button \r\n                        variant=\"outline-danger\" \r\n                        size=\"sm\"\r\n                        onClick={clearFilters}\r\n                      >\r\n                        <FontAwesomeIcon icon={faTimes} /> Clear Filters\r\n                      </Button>\r\n                    </div>\r\n                  </Card.Body>\r\n                </Card>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {loading && (\r\n        <Row className=\"justify-content-center\">\r\n          <Col md={8}>\r\n            <div className=\"text-center py-4\">\r\n              <Spinner animation=\"border\" role=\"status\">\r\n                <span className=\"visually-hidden\">Loading...</span>\r\n              </Spinner>\r\n              <p className=\"mt-2\">Searching for channels...</p>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      {error && (\r\n        <Row className=\"justify-content-center\">\r\n          <Col md={8}>\r\n            <Alert variant=\"danger\">{error}</Alert>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      {searched && !loading && !error && (\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <Card.Body>\r\n                <Card.Title className=\"d-flex justify-content-between align-items-center\">\r\n                  <span>\r\n                    Search Results for \"{searchQuery}\"\r\n                    {(filterProvider || filterFormat || filterStatus) ? (\r\n                      <span className=\"ms-2 text-muted fs-6\">\r\n                        (Filtered)\r\n                      </span>\r\n                    ) : null}\r\n                  </span>\r\n                  <span className=\"badge bg-primary\">\r\n                    {displayedChannels.length} {displayedChannels.length === 1 ? 'channel' : 'channels'} found\r\n                  </span>\r\n                </Card.Title>\r\n                \r\n                {displayedChannels.length === 0 ? (\r\n                  <Alert variant=\"info\">\r\n                    No channels found matching your criteria. Try a different search or adjust your filters.\r\n                  </Alert>\r\n                ) : (\r\n                  <ChannelList \r\n                    channels={displayedChannels} \r\n                    showActions={!!user} \r\n                  />\r\n                )}\r\n                \r\n                {!user && displayedChannels.length > 0 && (\r\n                  <Alert variant=\"info\" className=\"mt-3\">\r\n                    <Alert.Heading>Sign in for more features</Alert.Heading>\r\n                    <p>\r\n                      Sign in or create an account to access additional features like saving favorites, \r\n                      viewing channel details, and more.\r\n                    </p>\r\n                    <div className=\"d-flex justify-content-end\">\r\n                      <Button variant=\"outline-primary\" href=\"/login\" className=\"me-2\">\r\n                        Sign In\r\n                      </Button>\r\n                      <Button variant=\"outline-secondary\" href=\"/register\">\r\n                        Register\r\n                      </Button>\r\n                    </div>\r\n                  </Alert>\r\n                )}\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}